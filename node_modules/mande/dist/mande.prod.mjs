/*!
  * mande v2.0.7
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */
let e=/^\/+/;const t={responseAs:"json",headers:{Accept:"application/json","Content-Type":"application/json"},stringify:JSON.stringify};function n(n,o={},r){function s(o,s,u,i={}){let c,a;"object"==typeof s?(c="",i=u||s||{},a=s):(c=s,a=u);let p={...t,...l,method:o,...i,headers:(f={...t.headers,...l.headers,...i.headers},Object.keys(f).reduce(((e,t)=>(null!=f[t]&&(e[t]=f[t]),e)),{}))};var f;let d={...t.query,...l.query,...i.query},{responseAs:h}=p;c=function(t,n){return t+(n&&(t.endsWith("/")?n.replace(e,""):n.startsWith("/")?n:"/"+n))}(n,"number"==typeof c?""+c:c||""),c+=function(e){let t=Object.keys(e).map((t=>[t,e[t]].map(encodeURIComponent).join("="))).join("&");return t?"?"+t:""}(d),"P"===o[0]&&a&&!p.body&&(p.body=a instanceof FormData?a:p.stringify(a));const y="undefined"!=typeof fetch?fetch:r;if(!y)throw new Error("No fetch function exists. Make sure to include a polyfill on Node.js.");return y(c,p).then((e=>Promise.all([e,"response"===h?e:e[h]().catch((()=>null))]))).then((([e,t])=>{if(e.status>=200&&e.status<300)return"response"!==h&&204==e.status?null:t;let n=new Error(e.statusText);throw n.response=e,n.body=t,n}))}const l={query:{},headers:{},...o};return{options:l,post:s.bind(null,"POST"),put:s.bind(null,"PUT"),patch:s.bind(null,"PATCH"),get:(e,t)=>s("GET",e,null,t),delete:(e,t)=>s("DELETE",e,null,t)}}function o(e,t){const n=t.length;return function(){let o=e,r=Array.from(arguments);if(arguments.length===n){o={...e};const[t]=r.splice(0,1);t(o)}return t.call(null,o,...r)}}export{t as defaults,n as mande,o as nuxtWrap};
